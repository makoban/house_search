# å…¨æ¥­ç¨®å¯¾å¿œ AIã‚¨ãƒªã‚¢åˆ†æã‚µã‚¤ãƒˆ â€” ä»•æ§˜æ›¸

> **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå**: AIã‚¨ãƒªã‚¢åˆ†æï¼ˆå…¨æ¥­ç¨®å¯¾å¿œç‰ˆï¼‰
> **ç¾è¡Œãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v3.8ï¼ˆä¸å‹•ç”£ç‰¹åŒ–ç‰ˆï¼‰
> **ç›®æ¨™ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: v4.0ï¼ˆå…¨æ¥­ç¨®å¯¾å¿œç‰ˆï¼‰
> **æœ€çµ‚æ›´æ–°**: 2026-02-11

---

## 1. æ¦‚è¦

### 1.1 ã‚³ãƒ³ã‚»ãƒ—ãƒˆ
ä¼æ¥­ã®Webã‚µã‚¤ãƒˆURLã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€AIãŒ**æ¥­ç¨®ã‚’è‡ªå‹•åˆ¤å®š**ã—ã€ãã®æ¥­ç¨®ã«æœ€é©ãªæ”¿åºœçµ±è¨ˆãƒ‡ãƒ¼ã‚¿ï¼ˆe-Statï¼‰ã‚’**å‹•çš„ã«é¸æŠãƒ»å–å¾—**ã€‚æ¥­ç¨®ç‰¹åŒ–ã®ã‚¨ãƒªã‚¢åˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€‚

### 1.2 ç¾è¡Œç‰ˆï¼ˆv3.8ï¼‰ã¨ã®å·®åˆ†

| é …ç›® | v3.8ï¼ˆç¾è¡Œï¼‰ | v4.0ï¼ˆå…¨æ¥­ç¨®å¯¾å¿œç‰ˆï¼‰ |
|---|---|---|
| å¯¾è±¡æ¥­ç¨® | ä¸å‹•ç”£ã®ã¿ | **å…¨æ¥­ç¨®ï¼ˆ20+ã‚«ãƒ†ã‚´ãƒªï¼‰** |
| e-Statãƒ‡ãƒ¼ã‚¿ | äººå£ + ä½å®…ã®2ç¨®å›ºå®š | **æ¥­ç¨®åˆ¥ã«å‹•çš„é¸æŠï¼ˆ5ã€œ8ç¨®ï¼‰** |
| åˆ†æãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | ä¸å‹•ç”£ç”¨å›ºå®š | **æ¥­ç¨®åˆ¥ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè‡ªå‹•åˆ‡æ›¿** |
| ãƒ¬ãƒãƒ¼ãƒˆé …ç›® | ä¸å‹•ç”£å¸‚å ´å›ºå®š | **æ¥­ç¨®åˆ¥KPI + å…±é€šé …ç›®** |
| Excelå‡ºåŠ› | ä¸å‹•ç”£ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ | **æ¥­ç¨®åˆ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ** |

---

## 2. ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

### 2.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰                          â”‚
â”‚    GitHub Pages (index.html + app.js + style.css)        â”‚
â”‚                                                          â”‚
â”‚  â‘  URLå…¥åŠ› â†’ â‘¡ Webã‚¯ãƒ­ãƒ¼ãƒ« â†’ â‘¢ AIæ¥­ç¨®åˆ¤å®š              â”‚
â”‚  â†’ â‘£ æ¥­ç¨®åˆ¥e-Statãƒ‡ãƒ¼ã‚¿é¸æŠ â†’ â‘¤ e-Statãƒ‡ãƒ¼ã‚¿å–å¾—        â”‚
â”‚  â†’ â‘¥ AIæ¥­ç¨®åˆ¥ã‚¨ãƒªã‚¢åˆ†æ â†’ â‘¦ ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º/Excelå‡ºåŠ›      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Cloudflare Worker (APIãƒ—ãƒ­ã‚­ã‚·)                   â”‚
â”‚  house-search-proxy.ai-fudosan.workers.dev               â”‚
â”‚                                                          â”‚
â”‚  POST /api/gemini        â†’ Gemini 2.0 Flash              â”‚
â”‚  GET  /api/estat/query   â†’ e-Stat APIï¼ˆæ±ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰â”‚
â”‚                                                          â”‚
â”‚  ç’°å¢ƒå¤‰æ•°: GEMINI_API_KEY, ESTAT_APP_ID                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | æŠ€è¡“ |
|---|---|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | HTML + Vanilla JS + CSS |
| AIã‚¨ãƒ³ã‚¸ãƒ³ | Google Gemini 2.0 Flash |
| æ”¿åºœçµ±è¨ˆ | e-Stat API (v3) |
| APIãƒ—ãƒ­ã‚­ã‚· | Cloudflare Workers |
| ãƒãƒ£ãƒ¼ãƒˆ | Chart.js |
| ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚° | GitHub Pages |

---

## 3. åˆ†æãƒ•ãƒ­ãƒ¼ï¼ˆå…¨ä½“ï¼‰

### 3.1 å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—

```
Step 1: Webã‚µã‚¤ãƒˆã‚¯ãƒ­ãƒ¼ãƒ«ï¼ˆç¾è¡Œã¨åŒä¸€ï¼‰
  â”œâ”€â”€ ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸å–å¾—
  â”œâ”€â”€ å†…éƒ¨ãƒªãƒ³ã‚¯è§£æï¼ˆæœ€å¤§10ãƒšãƒ¼ã‚¸ï¼‰
  â”œâ”€â”€ ä½æ‰€æŠ½å‡º
  â””â”€â”€ ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åé›†

Step 2: AIäº‹æ¥­åˆ†æ + æ¥­ç¨®åˆ¤å®š â˜…æ–°è¦
  â”œâ”€â”€ Geminiã§äº‹æ¥­å†…å®¹ã‚’åˆ†æ
  â”œâ”€â”€ æ¥­ç¨®ã‚«ãƒ†ã‚´ãƒªã‚’è‡ªå‹•åˆ¤å®šï¼ˆå¾Œè¿°ã®æ¥­ç¨®ãƒã‚¹ã‚¿ã‹ã‚‰ï¼‰
  â””â”€â”€ äº‹æ¥­æ‰€ä½æ‰€ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

Step 3: æ¥­ç¨®åˆ¥e-Statãƒ‡ãƒ¼ã‚¿é¸æŠ â˜…æ–°è¦
  â”œâ”€â”€ åˆ¤å®šã•ã‚ŒãŸæ¥­ç¨®ã‚«ãƒ†ã‚´ãƒªã«åŸºã¥ã
  â”œâ”€â”€ ä½¿ç”¨ã™ã‚‹çµ±è¨ˆè¡¨IDã‚’ãƒãƒƒãƒ”ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰å–å¾—
  â””â”€â”€ å„ã‚¨ãƒªã‚¢ã”ã¨ã«e-StatAPIã‚’å‘¼ã³å‡ºã—

Step 4: AIæ¥­ç¨®åˆ¥ã‚¨ãƒªã‚¢åˆ†æ â˜…æ‹¡å¼µ
  â”œâ”€â”€ æ¥­ç¨®ç‰¹åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’é¸æŠ
  â”œâ”€â”€ e-Statãƒ‡ãƒ¼ã‚¿ã‚’åŸ‹ã‚è¾¼ã‚“ã§Geminiåˆ†æ
  â””â”€â”€ å…¨ã‚¨ãƒªã‚¢æ¨ªæ–­åˆ†æ

Step 5: ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ â˜…æ‹¡å¼µ
  â”œâ”€â”€ æ¥­ç¨®åˆ¥KPIã‚«ãƒ¼ãƒ‰
  â”œâ”€â”€ å…±é€šã‚¨ãƒªã‚¢ãƒ‡ãƒ¼ã‚¿ï¼ˆäººå£ãƒ»ä¸–å¸¯ç­‰ï¼‰
  â”œâ”€â”€ æ¥­ç¨®å›ºæœ‰ãƒ‡ãƒ¼ã‚¿ï¼ˆå¾Œè¿°ï¼‰
  â”œâ”€â”€ ãƒãƒ£ãƒ¼ãƒˆï¼ˆChart.jsï¼‰
  â””â”€â”€ Excelå‡ºåŠ›ï¼ˆæ¥­ç¨®åˆ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
```

---

## 4. æ¥­ç¨®åˆ†é¡ãƒã‚¹ã‚¿

### 4.1 æ¥­ç¨®ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ï¼ˆ20ã‚«ãƒ†ã‚´ãƒªï¼‰

| # | ã‚«ãƒ†ã‚´ãƒªID | æ¥­ç¨®å | ä¸»è¦KPI |
|---|---|---|---|
| 1 | `real_estate` | ä¸å‹•ç”£ãƒ»å»ºè¨­ | ä½å®…ç€å·¥ä»¶æ•°ã€åœ°ä¾¡ã€ç©ºãå®¶ç‡ |
| 2 | `restaurant` | é£²é£Ÿåº—ãƒ»ãƒ•ãƒ¼ãƒ‰ | å¤–é£Ÿæ”¯å‡ºé¡ã€é£²é£Ÿåº—æ•°ã€é£Ÿæ–™å“æ¶ˆè²» |
| 3 | `retail` | å°å£²ãƒ»ç‰©è²© | å•†æ¥­è²©å£²é¡ã€å°å£²åº—æ•°ã€æ¶ˆè²»æ”¯å‡º |
| 4 | `medical` | åŒ»ç™‚ãƒ»ã‚¯ãƒªãƒ‹ãƒƒã‚¯ | åŒ»ç™‚æ–½è¨­æ•°ã€é«˜é½¢åŒ–ç‡ã€åŒ»ç™‚è²» |
| 5 | `dental` | æ­¯ç§‘ | æ­¯ç§‘è¨ºç™‚æ‰€æ•°ã€äººå£æ¯” |
| 6 | `beauty` | ç¾å®¹ãƒ»ã‚¨ã‚¹ãƒ†ãƒ»ç†å®¹ | ç¾å®¹æ‰€æ•°ã€å¥³æ€§äººå£æ¯”ã€ç†ç¾å®¹æ”¯å‡º |
| 7 | `fitness` | ãƒ•ã‚£ãƒƒãƒˆãƒã‚¹ãƒ»ã‚¹ãƒãƒ¼ãƒ„ | ã‚¹ãƒãƒ¼ãƒ„æ–½è¨­æ•°ã€å¥åº·æ”¯å‡º |
| 8 | `education` | æ•™è‚²ãƒ»å­¦ç¿’å¡¾ | å¹´å°‘äººå£ã€å­¦æ ¡æ•°ã€æ•™è‚²è²»æ”¯å‡º |
| 9 | `nursery` | ä¿è‚²ãƒ»ä»‹è­· | å¾…æ©Ÿå…ç«¥æ•°ã€é«˜é½¢è€…äººå£ã€ä»‹è­·æ–½è¨­æ•° |
| 10 | `it_service` | ITãƒ»Webã‚µãƒ¼ãƒ“ã‚¹ | äº‹æ¥­æ‰€æ•°ã€å¾“æ¥­è€…æ•°ã€æƒ…å ±é€šä¿¡æ¥­ |
| 11 | `consulting` | ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ãƒ»å£«æ¥­ | äº‹æ¥­æ‰€æ•°ã€ä¼æ¥­æ•°ã€é–‹æ¥­ç‡ |
| 12 | `manufacturing` | è£½é€ æ¥­ | è£½é€ å“å‡ºè·é¡ã€å·¥å ´æ•°ã€å¾“æ¥­è€…æ•° |
| 13 | `logistics` | ç‰©æµãƒ»é‹è¼¸ | è²¨ç‰©å–æ‰±é‡ã€é‹è¼¸æ¥­äº‹æ¥­æ‰€æ•° |
| 14 | `hotel` | å®¿æ³Šãƒ»è¦³å…‰ | å®¿æ³Šæ–½è¨­æ•°ã€è¦³å…‰å®¢æ•°ã€å®¿æ³Šè²» |
| 15 | `wedding` | ãƒ–ãƒ©ã‚¤ãƒ€ãƒ«ãƒ»å† å©šè‘¬ç¥­ | å©šå§»ä»¶æ•°ã€å¼å ´æ•° |
| 16 | `automotive` | è‡ªå‹•è»Šãƒ»ã‚«ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹ | è‡ªå‹•è»Šä¿æœ‰å°æ•°ã€æ•´å‚™å·¥å ´æ•° |
| 17 | `insurance` | ä¿é™ºãƒ»é‡‘è | ä¸–å¸¯å¹´åã€ä¿é™ºæ”¯å‡ºã€é‡‘èæ©Ÿé–¢æ•° |
| 18 | `agriculture` | è¾²æ¥­ãƒ»ä¸€æ¬¡ç”£æ¥­ | è¾²æ¥­ç”£å‡ºé¡ã€çµŒå–¶ä½“æ•°ã€è¾²åœ°é¢ç© |
| 19 | `advertising` | åºƒå‘Šãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚° | äº‹æ¥­æ‰€æ•°ã€æƒ…å ±é€šä¿¡æ¥­å£²ä¸Š |
| 20 | `other` | ãã®ä»–ãƒ»æ±ç”¨ | äººå£ã€ä¸–å¸¯æ•°ã€äº‹æ¥­æ‰€æ•°ï¼ˆå…±é€šãƒ‡ãƒ¼ã‚¿ã®ã¿ï¼‰ |

### 4.2 AIæ¥­ç¨®åˆ¤å®šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```
åˆ†æã—ãŸä¼æ¥­ã®äº‹æ¥­å†…å®¹ã«åŸºã¥ãã€ä»¥ä¸‹ã®æ¥­ç¨®ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰
æœ€ã‚‚é©åˆ‡ãªã‚‚ã®ã‚’1ã¤é¸æŠã—ã¦ãã ã•ã„ã€‚

ã‚«ãƒ†ã‚´ãƒªä¸€è¦§: [ä¸Šè¨˜20ã‚«ãƒ†ã‚´ãƒªã®ID + åå‰]

å›ç­”å½¢å¼:
{
  "industry_id": "restaurant",
  "industry_name": "é£²é£Ÿåº—ãƒ»ãƒ•ãƒ¼ãƒ‰",
  "confidence": 0.95,
  "sub_category": "ã‚«ãƒ•ã‚§ãƒ»å–«èŒ¶åº—",
  "reason": "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒšãƒ¼ã‚¸ã‚„ãƒ©ãƒ³ãƒæƒ…å ±ã‹ã‚‰é£²é£Ÿåº—ã¨åˆ¤æ–­"
}
```

â€» æ¥­ç¨®åˆ¤å®šã¯Step 2ã®äº‹æ¥­åˆ†æã¨**åŒä¸€ã®Geminiå‘¼ã³å‡ºã—å†…ã§å®Ÿè¡Œ**ï¼ˆAPIç¯€ç´„ï¼‰

---

## 5. e-Statçµ±è¨ˆãƒ†ãƒ¼ãƒ–ãƒ«ãƒãƒƒãƒ”ãƒ³ã‚°

### 5.1 å…±é€šå–å¾—ãƒ‡ãƒ¼ã‚¿ï¼ˆå…¨æ¥­ç¨®ï¼‰

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å†…å®¹ |
|---|---|---|
| äººå£ãƒ»ä¸–å¸¯ | `0003448233` | ç”·å¥³åˆ¥äººå£ã€ä¸–å¸¯æ•° |
| äº‹æ¥­æ‰€ãƒ»ä¼æ¥­ | `0003455814` | ç”£æ¥­åˆ¥äº‹æ¥­æ‰€æ•°ã€å¾“æ¥­è€…æ•° |

### 5.2 æ¥­ç¨®åˆ¥è¿½åŠ ãƒ‡ãƒ¼ã‚¿

#### ä¸å‹•ç”£ãƒ»å»ºè¨­ (`real_estate`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| ä½å®…ãƒ»åœŸåœ°çµ±è¨ˆ | `0003445078` | ä½å®…ç·æ•°ã€ç©ºãå®¶ç‡ |
| å»ºç¯‰ç€å·¥çµ±è¨ˆ | `0003427105` | æ–°è¨­ä½å®…ç€å·¥ä»¶æ•° |

#### é£²é£Ÿåº—ãƒ»ãƒ•ãƒ¼ãƒ‰ (`restaurant`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| å®¶è¨ˆèª¿æŸ»ï¼ˆå¤–é£Ÿï¼‰ | `0003348239` | å¤–é£Ÿè²»æ”¯å‡ºã€é£Ÿæ–™å“æ”¯å‡º |
| çµŒæ¸ˆã‚»ãƒ³ã‚µã‚¹ï¼ˆé£²é£Ÿï¼‰ | `0003455814` | é£²é£Ÿã‚µãƒ¼ãƒ“ã‚¹æ¥­äº‹æ¥­æ‰€æ•° |

#### å°å£²ãƒ»ç‰©è²© (`retail`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| å•†æ¥­çµ±è¨ˆ | `0003077684` | å°å£²æ¥­å¹´é–“å•†å“è²©å£²é¡ |
| å®¶è¨ˆèª¿æŸ»ï¼ˆæ¶ˆè²»ï¼‰ | `0003348239` | ä¸–å¸¯æ¶ˆè²»æ”¯å‡º |

#### åŒ»ç™‚ãƒ»ã‚¯ãƒªãƒ‹ãƒƒã‚¯ (`medical`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| åŒ»ç™‚æ–½è¨­èª¿æŸ» | `0003411609` | ç—…é™¢ãƒ»è¨ºç™‚æ‰€æ•° |
| äººå£ï¼ˆå¹´é½¢åˆ¥ï¼‰ | `0003448233` | 65æ­³ä»¥ä¸Šäººå£æ¯”ç‡ |

#### ç¾å®¹ãƒ»ã‚¨ã‚¹ãƒ† (`beauty`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| è¡›ç”Ÿè¡Œæ”¿å ±å‘Š | `0003186863` | ç¾å®¹æ‰€æ•°ã€ç†å®¹æ‰€æ•° |
| å®¶è¨ˆèª¿æŸ»ï¼ˆç†ç¾å®¹ï¼‰ | `0003348239` | ç†ç¾å®¹ã‚µãƒ¼ãƒ“ã‚¹æ”¯å‡º |

#### æ•™è‚²ãƒ»å­¦ç¿’å¡¾ (`education`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| å­¦æ ¡åŸºæœ¬èª¿æŸ» | `0003414862` | å­¦æ ¡æ•°ã€å…ç«¥ç”Ÿå¾’æ•° |
| å®¶è¨ˆèª¿æŸ»ï¼ˆæ•™è‚²ï¼‰ | `0003348239` | æ•™è‚²è²»æ”¯å‡º |

#### ä¿è‚²ãƒ»ä»‹è­· (`nursery`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| ä»‹è­·ã‚µãƒ¼ãƒ“ã‚¹æ–½è¨­èª¿æŸ» | `0003396477` | ä»‹è­·æ–½è¨­æ•° |
| äººå£ï¼ˆé«˜é½¢è€…ï¼‰ | `0003448233` | 75æ­³ä»¥ä¸Šäººå£ |

#### å®¿æ³Šãƒ»è¦³å…‰ (`hotel`)

| ãƒ‡ãƒ¼ã‚¿ | çµ±è¨ˆè¡¨ID | å–å¾—é …ç›® |
|---|---|---|
| å®¿æ³Šæ—…è¡Œçµ±è¨ˆ | `0003427091` | å®¿æ³Šè€…æ•°ã€æ–½è¨­æ•° |

> **æ³¨æ„**: çµ±è¨ˆè¡¨IDã¯å®Ÿéš›ã®e-Stat APIã§æ¤œè¨¼ãŒå¿…è¦ã€‚ä¸€éƒ¨ã®IDã¯å­˜åœ¨ã—ãªã„å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å®Ÿè£…æ™‚ã«e-Statçµ±è¨ˆè¡¨æƒ…å ±å–å¾—API (`getStatsList`) ã§æ­£ç¢ºãªIDã‚’ç‰¹å®šã™ã‚‹ã€‚

---

## 6. Cloudflare Worker æ‹¡å¼µ

### 6.1 æ–°è¦ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

ç¾è¡Œã®å›ºå®šã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆ`/api/estat/population`, `/api/estat/housing`ï¼‰ã«åŠ ãˆã€**æ±ç”¨ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**ã‚’è¿½åŠ ã€‚

```
GET /api/estat/query?statsDataId={ID}&cdArea={code}&limit={n}&...
```

ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒæ¥­ç¨®ã«å¿œã˜ã¦å¿…è¦ãªçµ±è¨ˆè¡¨IDã‚’æŒ‡å®šã—ã€WorkerãŒä¸­ç¶™ã™ã‚‹ã€‚

### 6.2 å®Ÿè£…ï¼ˆsrc/index.js è¿½åŠ åˆ†ï¼‰

```javascript
// æ±ç”¨e-Statã‚¯ã‚¨ãƒª
if (path === '/api/estat/query' && request.method === 'GET') {
  const params = new URL(request.url).searchParams;
  const statsDataId = params.get('statsDataId');
  const cdArea = params.get('cdArea');
  const limit = params.get('limit') || '100';

  if (!statsDataId) {
    return jsonResponse({ error: 'statsDataId required' }, 400);
  }

  let estatUrl = `https://api.e-stat.go.jp/rest/3.0/app/json/getStatsData`
    + `?appId=${env.ESTAT_APP_ID}`
    + `&statsDataId=${statsDataId}`
    + `&limit=${limit}`;

  if (cdArea) estatUrl += `&cdArea=${cdArea}`;

  // ãã®ä»–ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ãƒ‘ã‚¹ã‚¹ãƒ«ãƒ¼
  for (const [key, value] of params.entries()) {
    if (!['statsDataId', 'cdArea', 'limit'].includes(key)) {
      estatUrl += `&${key}=${value}`;
    }
  }

  const estatRes = await fetch(estatUrl);
  const estatData = await estatRes.json();
  return jsonResponse(estatData);
}
```

---

## 7. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ‹¡å¼µ

### 7.1 æ–°è¦è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«/ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

```
house_search/
â”œâ”€â”€ index.html          ï¼ˆè»½å¾®ãªä¿®æ­£: ã‚¿ã‚¤ãƒˆãƒ«å¤‰æ›´ç­‰ï¼‰
â”œâ”€â”€ style.css           ï¼ˆæ¥­ç¨®åˆ¥ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒè¿½åŠ ï¼‰
â”œâ”€â”€ app.js              ï¼ˆãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯æ‹¡å¼µï¼‰
â”œâ”€â”€ industry-config.js  ï¼ˆâ˜…æ–°è¦: æ¥­ç¨®ãƒã‚¹ã‚¿ + e-Statãƒãƒƒãƒ”ãƒ³ã‚°ï¼‰
â””â”€â”€ industry-prompts.js ï¼ˆâ˜…æ–°è¦: æ¥­ç¨®åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
```

### 7.2 industry-config.jsï¼ˆæ¥­ç¨®ãƒã‚¹ã‚¿ï¼‰

```javascript
var INDUSTRY_CONFIG = {
  real_estate: {
    name: 'ä¸å‹•ç”£ãƒ»å»ºè¨­',
    icon: 'ğŸ ',
    color: '#3b82f6',
    estatDataSets: [
      { id: '0003445078', name: 'ä½å®…ãƒ»åœŸåœ°çµ±è¨ˆ', parser: 'parseHousing' },
      { id: '0003427105', name: 'å»ºç¯‰ç€å·¥çµ±è¨ˆ', parser: 'parseConstruction' }
    ],
    kpis: ['ä½å®…ç€å·¥ä»¶æ•°', 'ç©ºãå®¶ç‡', 'åœ°ä¾¡å‹•å‘', 'ä¸–å¸¯å¢—æ¸›ç‡']
  },
  restaurant: {
    name: 'é£²é£Ÿåº—ãƒ»ãƒ•ãƒ¼ãƒ‰',
    icon: 'ğŸ½ï¸',
    color: '#ef4444',
    estatDataSets: [
      { id: '0003348239', name: 'å®¶è¨ˆèª¿æŸ»ï¼ˆå¤–é£Ÿï¼‰', parser: 'parseHousehold',
        filter: { category: 'å¤–é£Ÿ' } },
    ],
    kpis: ['å¤–é£Ÿæ”¯å‡ºé¡', 'é£²é£Ÿåº—å¯†åº¦', 'äººå£ã‚ãŸã‚Šåº—èˆ—æ•°', 'ä¸–å¸¯æ¶ˆè²»å‚¾å‘']
  },
  // ... ä»–ã®æ¥­ç¨®ã‚‚åŒæ§˜ã®æ§‹é€ 
};
```

### 7.3 industry-prompts.jsï¼ˆæ¥­ç¨®åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰

```javascript
var INDUSTRY_PROMPTS = {
  real_estate: {
    market: function(analysis, estatData, area) {
      return 'ä¸å‹•ç”£ãƒ»å»ºè¨­æ¥­ã®å¸‚å ´åˆ†æ...' + estatData;
    },
    crossArea: function(analysis, markets) {
      return 'ä¸å‹•ç”£ã«ãŠã‘ã‚‹å…¨ã‚¨ãƒªã‚¢æ¨ªæ–­åˆ†æ...';
    }
  },
  restaurant: {
    market: function(analysis, estatData, area) {
      return 'é£²é£Ÿæ¥­ã®å•†åœåˆ†æ...' + estatData;
    },
    crossArea: function(analysis, markets) {
      return 'é£²é£Ÿåº—å‡ºåº—ã«ãŠã‘ã‚‹å…¨ã‚¨ãƒªã‚¢æ¯”è¼ƒ...';
    }
  },
  // ...
};
```

### 7.4 app.js ä¸»è¦å¤‰æ›´ç‚¹

#### 7.4.1 buildAnalysisPrompt æ‹¡å¼µ
- æ—¢å­˜ã®äº‹æ¥­åˆ†æã«åŠ ãˆã€`industry_id` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿”ã™ã‚ˆã†æŒ‡ç¤º

#### 7.4.2 æ–°è¦é–¢æ•°: fetchEstatForIndustry()
```javascript
async function fetchEstatForIndustry(industryId, prefCode, cityCode) {
  var config = INDUSTRY_CONFIG[industryId];
  if (!config) config = INDUSTRY_CONFIG['other'];

  var results = {};

  // å…±é€šãƒ‡ãƒ¼ã‚¿ï¼ˆäººå£ãƒ»ä¸–å¸¯ï¼‰ã¯å¸¸ã«å–å¾—
  results.population = await fetchEstatPopulation(prefecture, city);

  // æ¥­ç¨®åˆ¥ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
  for (var i = 0; i < config.estatDataSets.length; i++) {
    var ds = config.estatDataSets[i];
    var rawData = await fetchEstatGeneric(ds.id, prefCode);
    results[ds.name] = window[ds.parser](rawData, ds.filter);
  }

  return results;
}
```

#### 7.4.3 buildMarketPromptForArea æ‹¡å¼µ
- `INDUSTRY_PROMPTS[industryId].market()` ã‚’å‘¼ã³å‡ºã™å½¢ã«å¤‰æ›´
- e-Statãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿æ–¹ã‚‚æ¥­ç¨®ã”ã¨ã«æœ€é©åŒ–

#### 7.4.4 renderResults æ‹¡å¼µ
- æ¥­ç¨®ã‚¢ã‚¤ã‚³ãƒ³ãƒ»ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã®åæ˜ 
- æ¥­ç¨®åˆ¥KPIã‚«ãƒ¼ãƒ‰ã®å‹•çš„ç”Ÿæˆ
- å…±é€šã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆäººå£ã€ã‚¨ãƒªã‚¢æ¯”è¼ƒï¼‰+ æ¥­ç¨®å›ºæœ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³

---

## 8. UIå¤‰æ›´

### 8.1 ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¤‰æ›´

| é …ç›® | ç¾è¡Œ | v4.0 |
|---|---|---|
| ã‚¿ã‚¤ãƒˆãƒ« | ä¸å‹•ç”£å¸‚å ´æŠŠæ¡AI | **AIã‚¨ãƒªã‚¢åˆ†æ** |
| ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ« | å•†åœåˆ†æãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ | **å…¨æ¥­ç¨®å¯¾å¿œ å•†åœãƒ‡ãƒ¼ã‚¿è‡ªå‹•åˆ†æ** |
| ãƒ’ãƒ¼ãƒ­ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆ | ä¼æ¥­ã®URLã‚’å…¥åŠ›ã™ã‚‹ã ã‘ã€‚AIãŒWebã‚µã‚¤ãƒˆã‚’è§£æã—ã€å•†åœã®å¸‚å ´ãƒ‡ãƒ¼ã‚¿ã¨æ½œåœ¨é¡§å®¢ã‚’è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆã€‚ | åŒæ§˜ï¼ˆæ±ç”¨æ€§ãŒã‚ã‚‹ãŸã‚ãã®ã¾ã¾ï¼‰ |

### 8.2 ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤ºã®æ¥­ç¨®åˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

```
ğŸ“‹ åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
â”œâ”€â”€ ğŸ¢ ä¼æ¥­æƒ…å ±ã‚«ãƒ¼ãƒ‰ï¼ˆå…±é€šï¼‰
â”œâ”€â”€ ğŸ·ï¸ åˆ¤å®šæ¥­ç¨®: é£²é£Ÿåº—ãƒ»ãƒ•ãƒ¼ãƒ‰ï¼ˆconfidence: 95%ï¼‰â˜…æ–°è¦
â”œâ”€â”€ ğŸ“Š ã‚¨ãƒªã‚¢åˆ¥ã‚¿ãƒ–
â”‚   â”œâ”€â”€ ğŸ‘¥ äººå£ãƒ‡ãƒ¼ã‚¿ï¼ˆå…±é€šï¼‰
â”‚   â”œâ”€â”€ ğŸ½ï¸ é£²é£Ÿæ¥­ãƒ‡ãƒ¼ã‚¿ï¼ˆæ¥­ç¨®å›ºæœ‰ï¼‰â˜…æ–°è¦
â”‚   â”‚   â”œâ”€â”€ å¤–é£Ÿæ”¯å‡ºé¡
â”‚   â”‚   â”œâ”€â”€ é£²é£Ÿåº—å¯†åº¦
â”‚   â”‚   â””â”€â”€ ç«¶åˆåº—èˆ—æ•°
â”‚   â”œâ”€â”€ ğŸ’¡ AIã‚¤ãƒ³ã‚µã‚¤ãƒˆï¼ˆæ¥­ç¨®åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆï¼‰
â”‚   â””â”€â”€ ğŸ“ˆ ãƒãƒ£ãƒ¼ãƒˆï¼ˆChart.jsï¼‰
â”œâ”€â”€ ğŸ”„ å…¨ã‚¨ãƒªã‚¢æ¨ªæ–­åˆ†æ
â””â”€â”€ ğŸ“Š Excelå‡ºåŠ›ï¼ˆæ¥­ç¨®åˆ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼‰
```

---

## 9. å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1ã€œ2æ—¥ï¼‰
- [ ] Workeræ±ç”¨e-Statã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ 
- [ ] `industry-config.js` ä½œæˆï¼ˆã¾ãš5æ¥­ç¨®ï¼‰
- [ ] `buildAnalysisPrompt` ã«industry_idåˆ¤å®šã‚’è¿½åŠ 
- [ ] `fetchEstatForIndustry()` æ±ç”¨ãƒ‡ãƒ¼ã‚¿å–å¾—é–¢æ•°

### Phase 2: æ¥­ç¨®åˆ¥åˆ†æï¼ˆ2ã€œ3æ—¥ï¼‰
- [ ] `industry-prompts.js` æ¥­ç¨®åˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- [ ] e-Statãƒ‡ãƒ¼ã‚¿ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆçµ±è¨ˆè¡¨ã”ã¨ã«ç•°ãªã‚‹ã‚«ãƒ©ãƒ æ§‹é€ ã«å¯¾å¿œï¼‰
- [ ] `buildMarketPromptForArea` ã®æ¥­ç¨®åˆ¥åˆ‡æ›¿
- [ ] ãƒ¬ãƒãƒ¼ãƒˆUIæ¥­ç¨®åˆ¥ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### Phase 3: å…¨æ¥­ç¨®å±•é–‹ + å“è³ªå‘ä¸Šï¼ˆ2ã€œ3æ—¥ï¼‰
- [ ] æ®‹ã‚Š15æ¥­ç¨®ã®è¨­å®šè¿½åŠ 
- [ ] Excelå‡ºåŠ›ã®æ¥­ç¨®åˆ¥ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
- [ ] e-Statçµ±è¨ˆè¡¨IDã®å®Ÿåœ°æ¤œè¨¼ãƒ»ä¿®æ­£
- [ ] UI/UXãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¤‰æ›´

### Phase 4: ãƒ†ã‚¹ãƒˆ + ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ1æ—¥ï¼‰
- [ ] å„æ¥­ç¨®ã§ã®ãƒ†ã‚¹ãƒˆåˆ†æ
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™æœ€é©åŒ–
- [ ] GitHub Pages / Cloudflareæ›´æ–°

---

## 10. ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

| ãƒªã‚¹ã‚¯ | å½±éŸ¿ | å¯¾ç­– |
|---|---|---|
| e-Statçµ±è¨ˆè¡¨IDã®å¤‰æ›´ãƒ»å»ƒæ­¢ | ãƒ‡ãƒ¼ã‚¿å–å¾—å¤±æ•— | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆAIæ¨è¨ˆãƒ¢ãƒ¼ãƒ‰ï¼‰ |
| Gemini APIå‘¼ã³å‡ºã—å›æ•°å¢—åŠ  | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ãƒ»ã‚³ã‚¹ãƒˆå¢— | æ¥­ç¨®åˆ¤å®šã‚’äº‹æ¥­åˆ†æã¨çµ±åˆã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥å°å…¥ |
| æ¥­ç¨®åˆ¤å®šã®èª¤ã‚Š | ä¸é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿å–å¾— | confidenceé–¾å€¤è¨­å®šã€`other` ã¸ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ |
| çµ±è¨ˆè¡¨ã®ã‚«ãƒ©ãƒ æ§‹é€ å¤‰æ›´ | ãƒ‘ãƒ¼ã‚¹å¤±æ•— | æ±ç”¨ãƒ‘ãƒ¼ã‚µãƒ¼ + ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° |

---

## 11. ç¾è¡Œã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã®å¤‰æ›´å½±éŸ¿ç¯„å›²

| ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ | å½±éŸ¿åº¦ |
|---|---|---|
| `src/index.js`ï¼ˆWorkerï¼‰ | æ±ç”¨e-Statã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆè¿½åŠ  | å° |
| `app.js` | æ¥­ç¨®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ ã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆåˆ‡æ›¿ã€e-Statå–å¾—æ‹¡å¼µ | **å¤§** |
| `index.html` | ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°å¤‰æ›´ | å° |
| `style.css` | æ¥­ç¨®åˆ¥ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒ | å° |
| `industry-config.js` | **æ–°è¦** | â€” |
| `industry-prompts.js` | **æ–°è¦** | â€” |

---

*ã“ã®ä»•æ§˜æ›¸ã¯æ¤œè¨ç”¨ã§ã™ã€‚å®Ÿè£…é–‹å§‹å‰ã«e-Stat APIã§çµ±è¨ˆè¡¨IDã®å®Ÿåœ¨ç¢ºèªã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚*
